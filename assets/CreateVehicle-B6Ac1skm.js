import{r as s,j as e,c as x,A as h}from"./index-DAtkJyRA.js";function b(){const[r,i]=s.useState({}),[l,n]=s.useState(!1),[u,c]=s.useState(!1),[o,d]=s.useState("");async function v(t){t.preventDefault();try{n(!0),(await fetch(h+"/vehicles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(console.log("Added."),d("تمت الإضافة"),i({}))}catch{console.error("Error"),d("حصل خطأ أثناء اﻹضافة"),c(!0)}finally{n(!1)}}return e.jsx("div",{className:"p-10",children:e.jsxs("form",{onSubmit:v,className:"rounded-xl border border-neutral-300 bg-neutral-100 p-10 **:disabled:opacity-25 [&_input]:md:w-[500px] [&_input,button,textarea,select]:rounded [&_input,button,textarea,select]:p-1 [&_input,button,textarea,select]:focus:outline-0 [&_input,button,textarea,select]:md:max-w-[500px] [&_input,textarea,select]:bg-neutral-300",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"كود المركبة"}),e.jsx("input",{required:!0,disabled:l,dir:"ltr",value:r.vehicle_code??"",type:"number",onChange:t=>i(a=>({...a,vehicle_code:t.target.value===""?void 0:Number(t.target.value)}))}),e.jsx("label",{children:"رقم اللوحة"}),e.jsx("input",{required:!0,disabled:l,dir:"ltr",value:r.licence_number??"",type:"number",onChange:t=>i(a=>({...a,licence_number:t.target.value===""?void 0:Number(t.target.value)}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"نوع المركبة"}),e.jsx("input",{required:!0,disabled:l,value:r.vehicle_type_ar??"",onChange:t=>i(a=>({...a,vehicle_type_ar:t.target.value===""?void 0:t.target.value}))}),e.jsx("label",{children:"نوع المركبة - انجليزي"}),e.jsx("input",{required:!0,disabled:l,dir:"ltr",value:r.vehicle_type_en??"",onChange:t=>i(a=>({...a,vehicle_type_en:t.target.value===""?void 0:t.target.value}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"الموديل"}),e.jsx("input",{required:!0,disabled:l,value:r.vehicle_model_ar??"",onChange:t=>i(a=>({...a,vehicle_model_ar:t.target.value===""?void 0:t.target.value}))}),e.jsx("label",{children:"الموديل - انجليزي"}),e.jsx("input",{required:!0,disabled:l,dir:"ltr",value:r.vehicle_model_en??"",onChange:t=>i(a=>({...a,vehicle_model_en:t.target.value===""?void 0:t.target.value}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"القسم"}),e.jsx("input",{required:!0,disabled:l,value:r.vehicle_dept??"",onChange:t=>i(a=>({...a,vehicle_dept:t.target.value===""?void 0:t.target.value}))}),e.jsx("label",{children:"الحالة"}),e.jsxs("select",{required:!0,disabled:l,value:r.vehicle_state??"",onChange:t=>i(a=>({...a,vehicle_state:t.target.value===""?void 0:t.target.value})),children:[e.jsx("option",{value:"",children:"-- اختر --"}),e.jsx("option",{value:"تعمل",children:"تعمل"}),e.jsx("option",{value:"لا تعمل",children:"لا تعمل"}),e.jsx("option",{value:"مدمرة",children:"مدمرة"})]})]})]}),e.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[e.jsx("label",{children:"ملاحظات:"}),e.jsx("textarea",{required:!0,disabled:l,value:r.notes??"",className:"resize-none",onChange:t=>i(a=>({...a,notes:t.target.value===""?void 0:t.target.value}))})]}),e.jsx("button",{disabled:l,className:"mt-2 h-fit w-30 cursor-pointer place-items-center bg-blue-500 font-bold text-white",type:"submit",children:l?e.jsx("div",{className:"loading-spinner h-5 w-5",children:e.jsx(x,{size:20})}):"إضافة الآلية"}),e.jsx("p",{className:u?"text-red-400":l?"text-neutral-600":"text-green-600",children:o})]})})}export{b as default};
