import{r,u,j as e,L as p,E as f,N as g,M as _,D as m,A as l}from"./index-CX8-0uuM.js";function E(){const[n,d]=r.useState(null),[c,h]=r.useState(!0),[x,j]=r.useState(!1),{language:a}=u();function o(s){d(t=>t?t.filter(i=>i.id!==s):null)}if(r.useEffect(()=>{async function s(){try{const t=await fetch(l+"/terms");if(t.ok){const i=await t.json();d(i)}}catch{j(!0)}finally{h(!1)}}s()},[]),c)return e.jsx(p,{});if(x)return e.jsx(f,{});if(n&&n.length)return e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{className:"[&_th]:font-bold",children:[e.jsx("th",{children:"#"}),a==="english"?e.jsxs(e.Fragment,{children:[e.jsx("th",{children:"Repair Type"}),e.jsx("th",{children:"Repair Description"}),e.jsx("th",{children:"Unit"}),e.jsx("th",{children:"Quantity"}),e.jsxs("th",{dir:"ltr",children:["Cost ","($)"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{children:"نوع الصيانة"}),e.jsx("th",{children:"وصف الصيانة"}),e.jsx("th",{children:"الوحدة"}),e.jsx("th",{children:"الكمية"}),e.jsxs("th",{children:["التكلفة ","($)"]})]}),e.jsx("th",{className:"hide-when-print",children:"اجراءات"})]})}),e.jsx("tbody",{children:n.map((s,t)=>e.jsxs("tr",{children:[a==="english"?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:s.term_num}),e.jsx("td",{children:s.repair_type_en}),e.jsx("td",{children:s.repair_desc_en}),e.jsx("td",{children:s.uom}),e.jsx("td",{children:s.qty})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:s.term_num}),e.jsx("td",{children:s.repair_type_ar}),e.jsx("td",{children:s.repair_desc_ar}),e.jsx("td",{children:s.uom}),e.jsx("td",{children:s.qty})]}),e.jsx("td",{children:s.service_cost}),e.jsxs("td",{className:"hide-when-print flex gap-1 border-0 border-l p-1",children:[e.jsx(g,{to:"/edit/term",className:"rounded bg-blue-500 p-2 px-3 text-white",state:{term:s},children:e.jsx(_,{size:16})}),e.jsx(m,{url:`${l}/terms/${s.id}`,id:s.id??0,deleteEffect:o})]})]},t))})]})}export{E as default};
