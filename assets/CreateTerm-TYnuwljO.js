import{r as i,j as e,c as x,A as v}from"./index-CPfHk6jd.js";function g(){const[l,s]=i.useState({}),[r,n]=i.useState(!1),[u,o]=i.useState(!1),[c,d]=i.useState("");async function p(t){t.preventDefault();try{n(!0),(await fetch(v+"/terms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok&&(console.log("Added."),d("تمت الإضافة"),s({}))}catch{console.error("Error"),d("حصل خطأ أثناء اﻹضافة"),o(!0)}finally{n(!1)}}return e.jsx("div",{className:"p-10",children:e.jsxs("form",{onSubmit:p,className:"rounded-xl border border-neutral-300 bg-neutral-100 p-10 **:disabled:opacity-25 [&_input]:md:w-[500px] [&_input,button,textarea,select]:rounded [&_input,button,textarea,select]:p-1 [&_input,button,textarea,select]:focus:outline-0 [&_input,button,textarea,select]:md:max-w-[500px] [&_input,textarea,select]:bg-neutral-300",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"رقم البند"}),e.jsx("input",{required:!0,disabled:r,dir:"ltr",value:l.term_num??"",onChange:t=>s(a=>({...a,term_num:t.target.value===""?void 0:t.target.value}))}),e.jsx("label",{children:"نوع الصيانة"}),e.jsx("input",{required:!0,disabled:r,value:l.repair_type_ar??"",type:"number",onChange:t=>s(a=>({...a,repair_type_ar:t.target.value===""?void 0:t.target.value}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"نوع الصيانة - انجليزي"}),e.jsx("input",{required:!0,dir:"ltr",disabled:r,value:l.repair_type_en??"",onChange:t=>s(a=>({...a,repair_type_en:t.target.value===""?void 0:t.target.value}))}),e.jsx("label",{children:"وصف الصيانة"}),e.jsx("input",{required:!0,disabled:r,value:l.repair_desc_ar??"",onChange:t=>s(a=>({...a,repair_desc_ar:t.target.value===""?void 0:t.target.value}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"وصف الصيانة - انجليزي"}),e.jsx("input",{required:!0,dir:"ltr",disabled:r,value:l.repair_desc_en??"",onChange:t=>s(a=>({...a,repair_desc_en:t.target.value===""?void 0:t.target.value}))}),e.jsx("label",{children:"الوحدة"}),e.jsx("input",{required:!0,disabled:r,value:l.uom??"",onChange:t=>s(a=>({...a,uom:t.target.value===""?void 0:t.target.value}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"الكمية"}),e.jsx("input",{required:!0,disabled:r,value:l.qty??"",type:"number",onChange:t=>s(a=>({...a,qty:t.target.value===""?void 0:Number(t.target.value)}))}),e.jsx("label",{children:"التكلفة"}),e.jsx("input",{required:!0,disabled:r,type:"number",value:l.service_cost??"",onChange:t=>s(a=>({...a,service_cost:t.target.value===""?void 0:Number(t.target.value)}))})]})]}),e.jsx("button",{disabled:r,className:"mt-2 h-fit w-30 cursor-pointer place-items-center bg-blue-500 font-bold text-white",type:"submit",children:r?e.jsx("div",{className:"loading-spinner h-5 w-5",children:e.jsx(x,{size:20})}):"إضافة البند"}),e.jsx("p",{className:u?"text-red-400":r?"text-neutral-600":"text-green-600",children:c})]})})}export{g as default};
