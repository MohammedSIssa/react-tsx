import{r,j as e,L as j,E as u,N as f,M as p,D as _,A as l}from"./index-DR8U1SR7.js";function m(){const[n,i]=r.useState(null),[a,c]=r.useState(!1),[h,x]=r.useState(!0);function o(t){i(s=>s?s.filter(d=>d.id!==t):null)}if(r.useEffect(()=>{async function t(){try{const s=await fetch(l+"/vehicles");if(s.ok){const d=await s.json();i(d)}}catch{c(!0)}finally{x(!1)}}t()},[]),h)return e.jsx(j,{});if(a)return e.jsx(u,{});if(n&&n.length)return e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{className:"[&_th]:font-bold",children:[e.jsx("th",{children:"كود المركبة"}),e.jsx("th",{children:"نوع المركبة"}),e.jsx("th",{children:"نوع المركبة - انجليزي"}),e.jsx("th",{children:"رقم اللوحة"}),e.jsx("th",{children:"موديل"}),e.jsx("th",{children:"موديل - انجليزي"}),e.jsx("th",{children:"القسم"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"ملاحظات"}),e.jsx("th",{className:"hide-when-print",children:"اجراءات"})]})}),e.jsx("tbody",{children:n.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.vehicle_code}),e.jsx("td",{children:t.vehicle_type_ar}),e.jsx("td",{dir:"ltr",children:t.vehicle_type_en}),e.jsx("td",{children:t.licence_number}),e.jsx("td",{children:t.vehicle_model_ar}),e.jsx("td",{dir:"ltr",children:t.vehicle_model_en}),e.jsx("td",{children:t.vehicle_dept}),e.jsx("td",{className:`${t.vehicle_state==="مدمرة"?"bg-red-200":t.vehicle_state==="لا تعمل"?"bg-yellow-200":"bg-green-200"}`,children:t.vehicle_state}),e.jsx("td",{children:t.notes??""}),e.jsxs("td",{className:"hide-when-print flex gap-1 border-0 border-l p-1",children:[e.jsx(f,{to:"/edit/vehicle",className:"rounded bg-blue-500 p-2 px-3 text-white",state:{vehicle:t},children:e.jsx(p,{size:16})}),e.jsx(_,{url:`${l}/vehicles/${t.id}`,id:t.id??0,deleteEffect:o})]})]},s))})]})}export{m as default};
