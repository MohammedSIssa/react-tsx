import{r,u,j as e,L as g,E as _,N as f,M as m,D as p,A as c}from"./index-DaHWljq8.js";function N(){const[n,l]=r.useState(null),[a,h]=r.useState(!1),[x,j]=r.useState(!0),{language:i}=u();function o(t){l(s=>s?s.filter(d=>d.id!==t):null)}if(r.useEffect(()=>{async function t(){try{const s=await fetch(c+"/vehicles");if(s.ok){const d=await s.json();l(d)}}catch{h(!0)}finally{j(!1)}}t()},[]),x)return e.jsx(g,{});if(a)return e.jsx(_,{});if(n&&n.length)return e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{className:"[&_th]:font-bold",children:[i==="english"?e.jsxs(e.Fragment,{children:[e.jsx("th",{children:"Vehicle Code"}),e.jsx("th",{children:"Vehicle Type"}),e.jsx("th",{children:"Licence Number"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Department"}),e.jsx("th",{children:"State"}),e.jsx("th",{children:"Notes"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{children:"كود المركبة"}),e.jsx("th",{children:"نوع المركبة"}),e.jsx("th",{children:"رقم اللوحة"}),e.jsx("th",{children:"موديل"}),e.jsx("th",{children:"القسم"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"ملاحظات"})]}),e.jsx("th",{className:"hide-when-print",children:"اجراءات"})]})}),e.jsx("tbody",{children:n.map((t,s)=>e.jsxs("tr",{children:[i==="english"?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:t.vehicle_code}),e.jsx("td",{dir:"ltr",children:t.vehicle_type_en}),e.jsx("td",{children:t.licence_number}),e.jsx("td",{dir:"ltr",children:t.vehicle_model_en}),e.jsx("td",{children:t.vehicle_dept}),e.jsx("td",{className:`${t.vehicle_state==="مدمرة"?"bg-red-200":t.vehicle_state==="لا تعمل"?"bg-yellow-200":"bg-green-200"}`,children:t.vehicle_state}),e.jsx("td",{children:t.notes??""})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:t.vehicle_code}),e.jsx("td",{children:t.vehicle_type_ar}),e.jsx("td",{children:t.licence_number}),e.jsx("td",{children:t.vehicle_model_ar}),e.jsx("td",{children:t.vehicle_dept}),e.jsx("td",{className:`${t.vehicle_state==="مدمرة"?"bg-red-200":t.vehicle_state==="لا تعمل"?"bg-yellow-200":"bg-green-200"}`,children:t.vehicle_state}),e.jsx("td",{children:t.notes??""})]}),e.jsxs("td",{className:"hide-when-print flex gap-1 border-0 border-l p-1",children:[e.jsx(f,{to:"/edit/vehicle",className:"rounded bg-blue-500 p-2 px-3 text-white",state:{vehicle:t},children:e.jsx(m,{size:16})}),e.jsx(p,{url:`${c}/vehicles/${t.id}`,id:t.id??0,deleteEffect:o})]})]},s))})]})}export{N as default};
